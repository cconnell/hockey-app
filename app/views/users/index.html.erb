<div ng-app="app">
 <div id="stats_table">
  <div ng-controller="statsCtrl" ng-init="setup()">
  <div ng-controller="favoritesCtrl" ng-init="setup()">
    <div>
      <ul hidden id="user" data-user-id="<%= current_user.id %>"></ul> 
      <% if @score_alerts %>
      <% @score_alerts.each do |alert| %>
  Hey user #<%= alert[:alert] %> your player <%= alert[:id] %> scored!

<% end %>
<% end %>
      
    </div>
    <h1><%= @requested_stats_table_title %> Leaders</h1>
    <h5>Current as of: <%= @requested_stats_updated %></h5>
    <ul ng-repeat="favorite in favorites">
    {{favorite.player_name}} {{favorite.id}} <button ng-click="dropFavoritePlayer(favorite.id)">Drop</ul>

    <br>
      <table border="1" style="width:50%">
        <th></th>
        <th ng-click="sortBy('player_name')">Name</th>
        <th ng-click="sortBy('player_team')">Team</th>
        <th ng-click="sortBy('player_position')">Position</th>
        <th ng-click="sortBy('player_games')">Games</th>
        <th ng-click="sortBy('player_goals')">Goals</th>
        <th ng-click="sortBy('player_assists')">Assists</th>
        <th ng-click="sortBy('player_points')">Points</th>

        <tr ng-repeat="player in players_api_array | orderBy: sortByAttribute:descending ">

        <td><button ng-click="addFavoritePlayer(player.id, player.player_name, player.player_points)">Follow!</button></td>
          <td name="player_name">{{player.player_name}}</td>
          <td name="player_team">{{player.player_team}}</td>
          <td name="player_position">{{player.player_position}}</td>
          <td name="player_games">{{player.player_games}}</td>
          <td name="player_goals">{{player.player_goals}}</td>
          <td name="player_assists">{{player.player_assists}}</td>
          <td name="player_points">{{player.player_points}}</td>


        </tr>
      </table>

<!--       <input ng-model="newFavoritePlayer">
      <button ng-click="addFavoritePlayer(newFavoritePlayer)">Add Favorite Player</button> -->
      <!-- have to add parameters to send via js
      delete in current array syntax at 38 min in intro to angular2 -->
  </div>
 </div>
</div>

